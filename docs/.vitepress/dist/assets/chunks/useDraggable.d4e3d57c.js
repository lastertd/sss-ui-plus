import{r as D,g as W,v as B,x as $}from"./framework.efcebf82.js";const C=(e,t,p)=>{let c={offsetX:0,offsetY:0};e instanceof HTMLElement&&(e=D(e));const m=u=>{const L=u.clientX,M=u.clientY,{offsetX:o,offsetY:s}=c,n=e.value.getBoundingClientRect(),i=n.left,l=n.top,x=n.width,w=n.height,X=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,g=-i+o,H=-l+s,T=X-i-x+o,b=Y-l-w+s,d=f=>{const r=Math.min(Math.max(o+f.clientX-L,g),T),h=Math.min(Math.max(s+f.clientY-M,H),b);c={offsetX:r,offsetY:h},e.value.style.transform=`translate(${r}px, ${h}px)`},v=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",v)},E=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",m)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",m)};W(()=>{B(()=>{p.value?E():a()})}),$(()=>{a()})};export{C as u};
