import{d as h,h as g,x as Z,O as j,o as r,b as K,L as R,I as q,e as d,c as u,H as v,l as c,r as C,n as M,a1 as G,j as J,y as Q,ad as ee,g as A,w as z,a5 as te,k as I,X as ne,F as N,t as w,a as D,a6 as oe,T as se,N as ae}from"./framework.8f554d97.js";const le={target:String,tag:{type:String,default:"i"},for:String,rotating:Boolean,color:String,noPadding:Boolean},ie=h({name:"SIcon",inheritAttrs:!1}),E=h({...ie,props:{...le},setup(o){const n=o,t=g(null);return Z(()=>n.target,e=>{e&&j().then(()=>{n.noPadding&&(t.value.style.padding="0"),n.color&&(t.value.style.color=n.color)})},{immediate:!0}),(e,l)=>n.target?(r(),K(q(n.tag),R({key:0,ref_key:"icon",ref:t,for:n.for,class:["s-icon iconfont",[{"is-rotating":n.rotating},`sss-${e.target}`]]},e.$attrs),null,16,["for","class"])):d("",!0)}}),re={type:{type:String,default:"default"},nativeType:{type:String,default:"button"},size:{type:String,default:"normal"},round:Boolean,circle:Boolean,disabled:Boolean,empty:Boolean,ghost:Boolean,loading:Boolean,prefixIcon:String,suffixIcon:String},ce={click:o=>o instanceof Event},de=["disabled","type"],ue=h({name:"SButton",inheritAttrs:!0}),O=h({...ue,props:{...re},emits:{...ce},setup(o,{emit:n}){const t=o;return(e,l)=>(r(),u("button",{ref:"container",class:M(["s-button",[{"is-round":t.round,"is-circle":t.circle,"is-disabled":t.disabled,"is-loading":t.loading,"is-empty":t.empty,"is-ghost":t.ghost},e.type?`s-button--${t.type}`:"",e.size?`s-button--${t.size}`:""]]),onClick:l[0]||(l[0]=i=>{n("click",i)}),disabled:t.disabled||t.loading,type:t.nativeType},[v(c(E),{target:t.prefixIcon,"vertical-padding":0},null,8,["target"]),C(e.$slots,"default"),v(c(E),{target:t.suffixIcon,"vertical-padding":0},null,8,["target"])],10,de))}}),fe={type:String,icon:String,iconColor:String,title:{type:String,default:"default title"},text:String,transition:{type:String,default:"s-transition-downFade"},closeOnPressEscape:{type:Boolean,default:!0},draggable:Boolean,top:{type:String},noHeader:Boolean,noBody:Boolean,noFooter:Boolean,showCloseIcon:Boolean,cancelBtnText:{type:String,default:"取消"},confirmBtnText:{type:String,default:"确认"},btnSize:{type:String,default:"small"},beforeClose:Function},ge={close:o=>G(o),closed:()=>!0,open:()=>!0,opened:()=>!0,cancel:()=>!0,confirm:()=>!0,hidden:()=>!0},me=function(o=!1){const n=g(o),t=function(){n.value=!1},e=function(){n.value=!0};return{flag:n,setTrue:e,setFalse:t,toggle:function(){n.value?t():e()}}},pe=(o,n,t)=>{let e={offsetX:0,offsetY:0};o instanceof HTMLElement&&(o=g(o));const l=b=>{const x=b.clientX,T=b.clientY,{offsetX:m,offsetY:_}=e,p=o.value.getBoundingClientRect(),B=p.left,f=p.top,y=p.width,k=p.height,$=document.documentElement.clientWidth,s=document.documentElement.clientHeight,a=-B+m,S=-f+_,U=$-B-y+m,W=s-f-k+_,F=X=>{const Y=Math.min(Math.max(m+X.clientX-x,a),U),H=Math.min(Math.max(_+X.clientY-T,S),W);e={offsetX:Y,offsetY:H},o.value.style.transform=`translate(${Y}px, ${H}px)`},P=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",P)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",P)},i=()=>{n.value&&o.value&&n.value.removeEventListener("mousedown",l)};J(()=>{Q(()=>{t.value?n.value&&o.value&&n.value.addEventListener("mousedown",l):i()})}),ee(()=>{i()})},V=function(...o){return function(){for(let n=0;n<o.length;n++)o[n]()}},L=function(o,n=0,t){let e=0;return function(...l){const i=new Date().getTime();i-e>=n&&(e=i,o.apply(t,l))}},ye={class:"s-message"},ve={class:"s-message__header__title"},he={key:1,class:"s-message__body",ref:"body"},be={key:0,class:"s-message__body__text"},xe={key:0,class:"s-message__footer--default"},_e=h({name:"SMessageBox",inheritAttrs:!1}),Ce=h({..._e,props:{...fe},emits:{...ge},setup(o,{expose:n,emit:t}){const e=o,l=g(null),i=g(void 0),b=g(void 0),x=g(void 0),T=A(()=>e.icon?e.icon:e.type);let{flag:m,setTrue:_,setFalse:p}=me(!1);pe(x,b,A(()=>e.draggable));const B=V(_,async()=>{var s,a;t("open"),e.draggable&&x.value.appendChild(i.value),await j(),(s=i.value)==null||s.focus(),(a=l.value)==null||a.$el.focus()}),f=L(function(s="system"){const a=function(){y(),t("close",s)};(e.closeOnPressEscape||s!=="esc")&&(e.beforeClose?e.beforeClose(a):a())},500),y=V(p,()=>{t("hidden")}),k=L(function(){y(),t("cancel")},500),$=L(function(){y(),t("confirm")},500);return n({open:B,close:f,hidden:y,toggle:function(){m.value?f("system"):B()},cancel:k,confirm:$}),(s,a)=>(r(),u(N,null,[v(se,{name:e.transition,onAfterEnter:a[2]||(a[2]=S=>t("opened")),onAfterLeave:a[3]||(a[3]=S=>t("closed"))},{default:z(()=>[te(I("div",R({class:"s-message-box",ref_key:"outer",ref:i},s.$attrs,{tabindex:"0",onKeydown:a[1]||(a[1]=ne(S=>c(f)("esc"),["esc"])),class:[`s-message-box--${e.type||"default"}`],style:`top:${e.top}`}),[v(c(E),{target:T.value,class:"s-message-box__icon"},null,8,["target"]),I("div",ye,[e.noHeader?d("",!0):(r(),u("div",{key:0,class:M(["s-message__header",[{"s-message__header--default":!s.$slots.header}]]),ref_key:"header",ref:b},[s.$slots.header?d("",!0):(r(),u(N,{key:0},[I("h1",ve,w(e.title),1),e.showCloseIcon?(r(),K(c(E),{key:0,ref_key:"closeIcon",ref:l,target:"close",class:"s-message__header__icon",tabindex:"0",onClick:a[0]||(a[0]=S=>c(f)("icon"))},null,512)):d("",!0)],64)),C(s.$slots,"header")],2)),e.noBody?d("",!0):(r(),u("div",he,[C(s.$slots,"default"),e.text?(r(),u("div",be,w(e.text),1)):d("",!0)],512)),e.noFooter?d("",!0):(r(),u("div",{key:2,class:M(["s-message__footer",[{"s-message__footer--default":!s.$slots.footer}]]),ref:"footer"},[s.$slots.footer?d("",!0):(r(),u("div",xe,[v(c(O),{size:e.btnSize,type:"cyan",ghost:"",onClick:c(k)},{default:z(()=>[D(w(e.cancelBtnText),1)]),_:1},8,["size","onClick"]),v(c(O),{size:e.btnSize,type:"primary",onClick:c($)},{default:z(()=>[D(w(e.confirmBtnText),1)]),_:1},8,["size","onClick"])])),C(s.$slots,"footer")],2))])],16),[[oe,c(m)]])]),_:3},8,["name"]),e.draggable?(r(),u("div",{key:0,ref_key:"drag",ref:x,style:ae(`top:${e.top}`),class:"s-message-draggable-container"},null,4)):d("",!0)],64))}}),Be=function(o){let n;return new Proxy(o,{construct:(t,e)=>n||(n=new t(...e))})};var Se=Object.defineProperty,ke=(o,n,t)=>n in o?Se(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t,$e=(o,n,t)=>(ke(o,typeof n!="symbol"?n+"":n,t),t);const Ee=Be(class{constructor(o=2e3){$e(this,"index"),this.index=o}nextIndex(){return this.index++}});export{Ee as d,Ce as g,E as h,me as s,O as v};
