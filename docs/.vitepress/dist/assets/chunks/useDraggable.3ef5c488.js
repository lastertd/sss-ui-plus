import{h as D,j as W,y,ad as B}from"./framework.8f554d97.js";const j=(e,t,p)=>{let c={offsetX:0,offsetY:0};e instanceof HTMLElement&&(e=D(e));const m=u=>{const L=u.clientX,M=u.clientY,{offsetX:o,offsetY:s}=c,n=e.value.getBoundingClientRect(),i=n.left,l=n.top,w=n.width,x=n.height,X=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,g=-i+o,H=-l+s,T=X-i-w+o,b=Y-l-x+s,d=f=>{const h=Math.min(Math.max(o+f.clientX-L,g),T),r=Math.min(Math.max(s+f.clientY-M,H),b);c={offsetX:h,offsetY:r},e.value.style.transform=`translate(${h}px, ${r}px)`},v=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",v)},E=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",m)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",m)};W(()=>{y(()=>{p.value?E():a()})}),B(()=>{a()})};export{j as u};
