import{r as b,l as W,C as B,D as C}from"./framework.5b50d4be.js";const y=(e,t,p)=>{let c={offsetX:0,offsetY:0};e instanceof HTMLElement&&(e=b(e));const m=u=>{const L=u.clientX,M=u.clientY,{offsetX:o,offsetY:s}=c,n=e.value.getBoundingClientRect(),i=n.left,l=n.top,w=n.width,x=n.height,X=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,g=-i+o,D=-l+s,H=X-i-w+o,T=Y-l-x+s,d=f=>{const r=Math.min(Math.max(o+f.clientX-L,g),H),h=Math.min(Math.max(s+f.clientY-M,D),T);c={offsetX:r,offsetY:h},e.value.style.transform=`translate(${r}px, ${h}px)`},v=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",v)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",v)},E=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",m)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",m)};W(()=>{B(()=>{p.value?E():a()})}),C(()=>{a()})};export{y as u};
